
# Global settings
max_header_size 8K
max_body_size 10M
timeout 120
max_connects 2000

# Server block
server {
	hostname localhost
	port 80
	server_name example.com www.example.com
	default_error_pages /var/www/error_pages

	# Default route
	route / {
		methods POST
		root /var/www/html
		dir_listing on
		default_file index.html
	}

	# API route
	route /api {
		methods GET POST PUT DELETE
		root /var/www/api
		dir_listing off
		cgi_extension .php
	}

	# Redirect example
	route /old-page {
		redirect /new-page
	}

	# File upload route
	route /upload {
		methods POST
		root /var/www/uploads
		upload_dir /var/www/uploads/temp
		max_body_size 20M  # Override global setting for this route
	}
}

server {
	hostname 192.168.1.100
	port 80
	server_name admin.example.com
	default_error_pages /var/www/admin/error_pages

	route / {
		methods GET POST
		root /var/www/admin
		dir_listing off
		default_file dashboard.html
		cgi_extension .php
	}
}